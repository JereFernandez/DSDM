[comment encoding = UTF-8 /]
[module generatePackage('http://www.example.org/diagramaClasesCompleto')]

[import AcceleoJavaSpring::Entity::generateEntity /]
[import AcceleoJavaSpring::Entity::generateBaseEntity /]
[import AcceleoJavaSpring::controllers::generateEntityController /]
[import AcceleoJavaSpring::repositories::generateBaseRepository /]
[import AcceleoJavaSpring::repositories::generateRepositories /]
[import AcceleoJavaSpring::services::generateBaseService /]
[import AcceleoJavaSpring::services::generateServices /]
[import AcceleoJavaSpring::controllers::generateBaseController /]
[import AcceleoJavaSpring::Entity::generateInterface /]
[import AcceleoJavaSpring::Pom::generatePom /]
[import AcceleoJavaSpring::ApplicationProperties::generateAplicationProperties /]
[import AcceleoJavaSpring::Auditoria::generateCustomRevisionListener /]
[import AcceleoJavaSpring::Auditoria::generateRevisionClass /]

[template public generatePackage(raiz : DiagramaClases)]
[generateBaseEntity(raiz)/]
[generateBaseRepository(raiz)/]
[generateRepositories(raiz)/]
[generateBaseService(raiz)/]
[generateServices(raiz)/]
[generateBaseController(raiz)/]
[generateAplicationProperties(raiz)/]
[generatePom(raiz)/]
[generateCustomRevisionListener(raiz.artefacto_contenido)/]
[generateRevisionClass(raiz.artefacto_contenido)/]


[for (p : Package | raiz.packages_contenidos)]
[for (c : Clase | p.clasificadores_contenidos->filter(Clase))]
[generateEntity(c, raiz.artefacto_contenido, p, null)/]
[/for]
[for (c : Clase | p.clasificadores_contenidos->filter(Clase))]
[if (c.tieneABM)]
[generateEntityController(c, raiz.artefacto_contenido, p)/]
[/if]
[/for]
[for (i : Interface | p.clasificadores_contenidos -> filter(Interface))]
[generateInterface(i, raiz.artefacto_contenido, p)/]
[/for]
[/for]
[/template]
